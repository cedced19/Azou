function init(){container=document.createElement("div"),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e3),camera.position.set(0,150,500),scene=new THREE.Scene;var theText="Azou",hash=document.location.hash.substr(1);0!==hash.length&&(theText=hash);var text3d=new THREE.TextGeometry(theText,{size:80,height:20,curveSegments:2,font:"helvetiker"});text3d.computeBoundingBox();var centerOffset=-.5*(text3d.boundingBox.max.x-text3d.boundingBox.min.x),textMaterial=new THREE.MeshBasicMaterial({color:16777215*Math.random(),overdraw:.5});text=new THREE.Mesh(text3d,textMaterial),text.position.x=centerOffset,text.position.y=100,text.position.z=0,text.rotation.x=0,text.rotation.y=2*Math.PI,group=new THREE.Object3D,group.add(text),scene.add(group),renderer=new THREE.CanvasRenderer,renderer.setClearColor(15790320),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),document.addEventListener("mousedown",onDocumentMouseDown,!1),document.addEventListener("touchstart",onDocumentTouchStart,!1),document.addEventListener("touchmove",onDocumentTouchMove,!1),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseDown(event){event.preventDefault(),document.addEventListener("mousemove",onDocumentMouseMove,!1),document.addEventListener("mouseup",onDocumentMouseUp,!1),document.addEventListener("mouseout",onDocumentMouseOut,!1),mouseXOnMouseDown=event.clientX-windowHalfX,targetRotationOnMouseDown=targetRotation}function onDocumentMouseMove(event){mouseX=event.clientX-windowHalfX,targetRotation=targetRotationOnMouseDown+.02*(mouseX-mouseXOnMouseDown)}function onDocumentMouseUp(){document.removeEventListener("mousemove",onDocumentMouseMove,!1),document.removeEventListener("mouseup",onDocumentMouseUp,!1),document.removeEventListener("mouseout",onDocumentMouseOut,!1)}function onDocumentMouseOut(){document.removeEventListener("mousemove",onDocumentMouseMove,!1),document.removeEventListener("mouseup",onDocumentMouseUp,!1),document.removeEventListener("mouseout",onDocumentMouseOut,!1)}function onDocumentTouchStart(event){1==event.touches.length&&(event.preventDefault(),mouseXOnMouseDown=event.touches[0].pageX-windowHalfX,targetRotationOnMouseDown=targetRotation)}function onDocumentTouchMove(event){1==event.touches.length&&(event.preventDefault(),mouseX=event.touches[0].pageX-windowHalfX,targetRotation=targetRotationOnMouseDown+.05*(mouseX-mouseXOnMouseDown))}function animate(){requestAnimationFrame(animate),render()}function render(){group.rotation.y+=.05*(targetRotation-group.rotation.y),renderer.render(scene,camera)}var container,camera,scene,renderer,group,text,targetRotation=0,targetRotationOnMouseDown=0,mouseX=0,mouseXOnMouseDown=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;init(),animate();